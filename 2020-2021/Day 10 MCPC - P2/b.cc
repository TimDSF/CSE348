#include <cstdio>
using namespace std;

int l,r,n,cnt;
int a[243] = {105,1729,294409,56052361,118901521,172947529,216821881,228842209,1299963601,1885,114985,5719,24211,3655861,1136972771,4648261,6173179,7355671,42501439,53399449,96916279,195850411,443880589,604611019,758056531,873571459,1348964401,1675383631,4505,59081,23691481,18175361,52691801,55902529,177055201,939947009,1586031409,1419,27559,2953711,5069629,8011459,133800661,212122639,820192231,208681,353977,662998921,18578113,26758057,199708657,375615073,856970353,953055097,1056066169,1324715137,25085,336611,872159101,8444431,19827641,104966471,269545249,607692079,667235531,763651289,1023780151,1151271109,1743855049,54205,126893905,1242709,7355239,49982899,367224619,1455928891,233569,1012121,20771801,69207769,130692329,266032009,627977681,976228129,15387,7558219,34179391,92835667,268578181,6985249,76724569,2263811,1826139169,31929,970578289,3506371,35347159,240479779,1102226791,982513,43055057,185245273,222931549,1020225061,448585,72730439,428108921,1674819721,9773731,38596273,671405827,1268239597,668997041,559874269,1073305,14662681,1007749849,3812599,16596371,342116741,1140806899,1495619759,207177,4293793,4813879,92458529,1017436249,287979,6622609,161164441,291335089,1715605681,31852931,54177877,321767447,8835799,3077705,71657209,507579,78225589,1164151711,197916193,3973085,13534129,1615067791,272174369,1743564961,79796761,6253085,22549639,167195509,25711399,8712985,9271805,127090931,1485609,32894743,1449600967,34878529,170383081,41305159,1006956091,2089257,323476777,15411785,48476449,378606709,418637557,59267089,483824809,71550913,26000605,372526121,96931639,458576371,1813376689,37605385,578178931,599938361,46999705,8413179,1306276309,1539866809,10235499,221042353,1640591017,72457085,994732211,249925249,257519143,84280585,265265329,1191610211,1262588371,306333559,100085785,1412889731,332898769,1659996371,18651417,1748351011,1793680361,20138379,1886676121,162913085,644074039,213701405,32812089,732641959,237646105,290770505,44544219,65237577,1414608769,68633979,1614365473,1640582839,1667082529,572905085,87393129,656960585,770382685,781296905,134574729,995762585,1075122185,1158590105,176116299,1276450585,210509529,1518477085,1641183305,265786107,320237979,392605449,426689979,513769209,790296729,826048329,959646507,1129119819,1244556249,1637505339};

int main(){
	int i;
	scanf("%d",&n);
	while (n--){
		scanf("%d %d",&l,&r);
		cnt = 0;
		for (i=0;i<243;++i){
			cnt += (l <=a[i] && a[i] <= r);
		}
		printf("%d\n",cnt);
	}
	return 0;
}


// To generate the list, use:
/*
#include <cstdio>
#include <unordered_set>
#define N 10000000
using namespace std;

int pr[700000],n;
bool bl[10000005];
unordered_set<int> s;

int main(){
	int i,j,a,b,p,cnt=0;
	long long k;

	n=0;
	for (i=2;i<N;++i){
		if (!bl[i]){
			pr[n++]=i;
			for (j=i*2;j<N;j+=i) bl[j]=1;
		}
	}
	printf("%d primes\n",n);

	for (i=0;i<n;++i){
		s.insert(pr[i]);
	}

	for (a=1;a<1000;++a){
		for (b=-1000;b<1000;++b){
			k = 1;
			for (i = 1, p = a+b; ;++i, p = a * p + b){
				if (s.find(p)==s.end()) break;
				k *= p;
				if (k > 2000000000) break;
				if (i>=3){
					++cnt;
					printf("%lld,",k);
				}
			}
		}
	}

	printf("=> %d\n",cnt);
	
	return 0;
}
*/